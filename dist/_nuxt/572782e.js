(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{536:function(t,e,n){var content=n(625);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(31).default)("2ae9e46c",content,!0,{sourceMap:!1})},624:function(t,e,n){"use strict";n(536)},625:function(t,e,n){var o=n(30),l=n(51),r=n(60),c=o((function(i){return i[1]})),d=l(r);c.push([t.i,'.none-style{display:none}.hide-element{border:0;height:0;margin:0;overflow:hidden;padding:0;width:0}@font-face{font-family:"AlibabaPuHuiTiH";font-style:normal;font-weight:400;src:url('+d+")}.ptp__area{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;padding:10px}.ptp__left,.ptp__right{width:48%}.ptp__left_block{border:1px solid #bcb6b6;border-radius:5px;height:400px}.ptp__left_block video{height:100%;width:100%}.ptp__right_block{border:1px solid #bcb6b6;border-radius:5px;height:400px}.ptp__right_block video{height:100%;transform:scaleX(-1);width:100%}",""]),c.locals={},t.exports=c},797:function(t,e,n){"use strict";n.r(e);n(115);var o=n(16),l=(n(73),n(302),{head:function(){return{title:"vue文件模板",meta:"",description:"可用复制来快速创建文件",name:"模板",script:[]}},data:function(){return{roomId:"complete-signalling",channelId:"complete-signalling",memebers:[],signalling:null,allData:[],errorList:[],localInfo:{cameraState:0},userMediaConfig:{audio:!0,video:!0}}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.signalling=new BroadcastChannel(this.channelId),this.signalling.onmessage=function(e){console.log("收到内容",e),t.allData.push({time:(new Date).toLocaleTimeString(),content:e})},this.signalling.onmessageerror=function(e){console.log("".concat(new Date),e),t.errorList.push({time:(new Date).toLocaleTimeString(),content:e})}},handleCamera:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1===t.localInfo.cameraState&&console.log("相机状态以开启"),e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia(t.userMediaConfig);case 4:e.sent,t.localInfo.cameraState=1,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t.$message.error("获取本地媒体流信息失败"),t.localInfo.cameraState=-1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()}},destoryed:function(){var t;null===(t=this.signalling)||void 0===t||t.close()}}),r=(n(624),n(15)),component=Object(r.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"ptp"},[e("contents",[e("codes",[t._v("Peer to Peer ")]),t._v(" "),e("br")],1),t._v(" "),e("div",{staticClass:"ptp__area"},[e("div",{staticClass:"ptp__left"},t._l(t.memebers,(function(t,n){return e("div",{key:"".concat(this.channelId,"_").concat(n+1),staticClass:"ptp__others"},[e("video",{attrs:{id:"".concat(this.channelId,"_").concat(n+1),autoplay:"",playsinline:""}})])})),0),t._v(" "),e("div",{staticClass:"ptp__right"},[t._m(0),t._v(" "),e("div",{staticClass:"ptp__chatlist"}),t._v(" "),e("div",{staticClass:"ptp__text"}),t._v(" "),e("div",{staticClass:"ptp__btns"},[1!==t.localInfo.cameraState?e("el-button",{on:{click:t.handleJoin}},[t._v("加入")]):t._e(),t._v(" "),1===t.localInfo.cameraState?e("el-button",{on:{click:t.handleStop}},[t._v("停止")]):t._e(),t._v(" "),e("el-button",{on:{click:t.handlePost}},[t._v("发言")])],1)])])],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"ptp__myself"},[t("video",{attrs:{id:"local",autoplay:"",playsinline:""}})])}],!1,null,null,null);e.default=component.exports}}]);