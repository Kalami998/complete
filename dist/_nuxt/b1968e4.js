(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{521:function(t,e,o){var content=o(580);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(31).default)("958c651e",content,!0,{sourceMap:!1})},579:function(t,e,o){"use strict";o(521)},580:function(t,e,o){var n=o(30),l=o(51),r=o(60),c=n((function(i){return i[1]})),m=l(r);c.push([t.i,'.none-style{display:none}.hide-element{border:0;height:0;margin:0;overflow:hidden;padding:0;width:0}@font-face{font-family:"AlibabaPuHuiTiH";font-style:normal;font-weight:400;src:url('+m+")}.income__head{justify-content:flex-end;margin:0 0 10px}.income__head,.income__row{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap}.income__row{justify-content:flex-start;margin:0 20px 0 0}.income__row_label{margin:0 8px 0 0;min-width:50px;padding:2px;width:-moz-fit-content;width:fit-content}.income__main{margin:0 0 12px}.income__input{width:300px}",""]),c.locals={},t.exports=c},790:function(t,e,o){"use strict";o.r(e);o(23),o(300);var n={data:function(){return{dataList:[],pagenationInfo:{pageSize:18,pageNum:1,total:0},eventType:"add",formData:{name:"",id:"",company:"北京东方国信",pretax:"",aftertax:"",descrip:""},dialogVisible:!1,query:{year:""}}},mounted:function(){this.getList()},methods:{getList:function(){var t=this;"reset"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"reset")&&(this.pagenationInfo.pageNum=1),this.$axios.post("http://localhost:5678/getSalarys",{year:this.query.year?new Date(this.query.year).getFullYear():"",pageNum:this.pagenationInfo.pageNum,pageSize:this.pagenationInfo.pageSize}).then((function(e){1e3===e.code?(t.dataList=e.data.list,t.pagenationInfo.total=e.data.total):(t.dataList=[],t.pagenationInfo.total=0)}))},changeYear:function(data){console.log("所选年份",data)},handleChange:function(t){this.pagenationInfo.pageNum=t,this.getList("load")},resetData:function(){for(var i in this.formData)this.formData[i]="company"===i?"北京东方国信":""},handleItem:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(console.log("点击项目",o),this.eventType=e,e){case"del":this.$confirm("此操作将永久删除该条信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$axios.get("http://localhost:5678/deleteSalarys/".concat(o.id)).then((function(e){1e3===e.code?(t.$message.success("删除成功~"),t.getList(),t.dialogVisible=!1):t.$message.error(e.msg)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}));break;case"update":for(var i in o)this.formData[i]=o[i];this.dialogVisible=!0;break;default:this.resetData(),this.dialogVisible=!0}},handleDialog:function(){var t=this;if("sure"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"close"))if(console.log("当前表单",this.formData),"add"==this.eventType){var form=Object.assign(this.formData,{pretax:Number(this.formData.pretax),aftertax:Number(this.formData.aftertax)});this.$axios.post("http://localhost:5678/addSalarys",form).then((function(e){1e3===e.code?(t.$message.success("新建成功~"),t.getList(),t.dialogVisible=!1):t.$message.error(e.msg)}))}else{var e=Object.assign(this.formData,{pretax:Number(this.formData.pretax),aftertax:Number(this.formData.aftertax)});this.$axios.post("http://localhost:5678/updateSalarys",e).then((function(e){1e3===e.code?(t.$message.success("编辑成功~"),t.getList("load"),t.dialogVisible=!1):t.$message.error(e.msg)}))}else this.dialogVisible=!1}}},l=n,r=(o(579),o(15)),component=Object(r.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"income"},[e("div",{staticClass:"income__head"},[e("div",{staticClass:"income__row"},[e("div",{staticClass:"income__row_label"},[t._v("年份:")]),t._v(" "),e("el-date-picker",{staticClass:"income__row_content",attrs:{type:"year",placeholder:"选择年"},on:{change:t.changeYear},model:{value:t.query.year,callback:function(e){t.$set(t.query,"year",e)},expression:"query.year"}})],1),t._v(" "),e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.handleItem("add")}}},[t._v("新 增")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getList()}}},[t._v("查 询")])],1),t._v(" "),e("div",{staticClass:"income__main"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dataList}},[e("el-table-column",{attrs:{prop:"id",label:"序号"}}),t._v(" "),e("el-table-column",{attrs:{prop:"name",label:"工资日期"}}),t._v(" "),e("el-table-column",{attrs:{prop:"company",label:"发资公司"}}),t._v(" "),e("el-table-column",{attrs:{prop:"pretax",label:"税前",type:"number"}}),t._v(" "),e("el-table-column",{attrs:{prop:"aftertax",label:"税后",type:"number"}}),t._v(" "),e("el-table-column",{attrs:{prop:"descrip",label:"备注"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleItem("update",o.row)}}},[t._v("修改")]),t._v(" "),e("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){return t.handleItem("del",o.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"40%","before-close":t.handleDialog},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"form",attrs:{"label-width":"100px"}},[e("el-form-item",{attrs:{label:"发资年月"}},[e("el-date-picker",{staticClass:"income__input",attrs:{format:"yyyy-MM","value-format":"yyyy-MM",type:"month",placeholder:"选择月"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"发资公司"}},[e("el-input",{staticClass:"income__input",model:{value:t.formData.company,callback:function(e){t.$set(t.formData,"company",e)},expression:"formData.company"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"税前"}},[e("el-input",{staticClass:"income__input",model:{value:t.formData.pretax,callback:function(e){t.$set(t.formData,"pretax",e)},expression:"formData.pretax"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"税后"}},[e("el-input",{staticClass:"income__input",model:{value:t.formData.aftertax,callback:function(e){t.$set(t.formData,"aftertax",e)},expression:"formData.aftertax"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"备注"}},[e("el-input",{staticClass:"income__input",model:{value:t.formData.descrip,callback:function(e){t.$set(t.formData,"descrip",e)},expression:"formData.descrip"}})],1)],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){return t.handleDialog()}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleDialog("sure")}}},[t._v("确 定")])],1)],1),t._v(" "),e("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next",total:t.pagenationInfo.total,"page-size":t.pagenationInfo.pageSize,"current-page":t.pagenationInfo.pageNum},on:{"current-change":t.handleChange}})],1)}),[],!1,null,null,null);e.default=component.exports}}]);