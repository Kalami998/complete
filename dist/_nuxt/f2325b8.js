(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{551:function(e,t,o){var content=o(684);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(31).default)("51c03f22",content,!0,{sourceMap:!1})},683:function(e,t,o){"use strict";o(551)},684:function(e,t,o){var n=o(30),l=o(51),d=o(60),c=n((function(i){return i[1]})),r=l(d);c.push([e.i,'.none-style[data-v-1745b87e]{display:none}.hide-element[data-v-1745b87e]{border:0;height:0;margin:0;overflow:hidden;padding:0;width:0}@font-face{font-family:"AlibabaPuHuiTiH";font-style:normal;font-weight:400;src:url('+r+")}.img-style[data-v-1745b87e]{width:50%}",""]),c.locals={},e.exports=c},802:function(e,t,o){"use strict";o.r(t);o(644),o(23),o(19),o(37),o(40),o(315),o(649),o(657),o(659),o(660),o(661),o(663),o(664),o(665),o(666),o(667),o(668),o(669),o(670),o(672),o(673),o(674),o(675),o(676),o(677),o(678),o(679),o(680),o(681),o(682),o(45),o(114),o(542),o(305);var n={data:function(){return{videoPath:"",imgSrc:"",videoWidth:700,videoHeight:300,fileInfos:{name:"2"}}},watch:{fileInfos:function(e,t){console.log("新值",e)}},mounted:function(){var e=this,t=document.querySelector("#video"),canvas=document.createElement("canvas");t.addEventListener("loadedmetadata",console.info("loadedmetadata")),t.addEventListener("canplay",(function(t){console.log(t),console.log(e.videoHeight,"")})),t.addEventListener("canplay",(function(){console.log(e.videoWidth,"宽度信息"),setTimeout((function(){canvas.width=700,canvas.height=300,canvas.getContext("2d").drawImage(t,0,0,canvas.width,canvas.height);var o=canvas.toDataURL("image/jpeg");e.imgSrc=o,document.getElementById("imgsrc").setAttribute("src",o);for(var n=o.split(","),l=n[0].match(/:(.*?);/)[1],d=atob(n[1]),c=d.length,r=new Uint8Array(1);c--;)r[1]=d.charCodeAt(c);var h=new Blob([r],{type:l});h.lastModifiedDate=new Date,h.name="首帧封面",e.fileInfo=h,console.log(e.fileInfo,"文件信息2")}),2e3)}),!0)},methods:{chooseVideoInput:function(e){this.videoPath=window.URL.createObjectURL(document.getElementById("input").files[0]),console.log(this.videoPath,"文件信息")},base64ToBlob:function(data){console.log("调用");for(var e=data.split(","),t=e[0].match(/:(.*?);/)[1],o=atob(e[1]),n=o.length,l=new Uint8Array(1);n--;)l[1]=o.charCodeAt(n);var d=new Blob([l],{type:t});return console.log(d,"base64转blob结果"),d},blobToFile:function(e,t){e.lastModifiedDate=new Date,e.name=t,this.fileInfo=e,console.log(this.fileInfo,"文件信息")},func:function(){var e=this,canvas=document.createElement("canvas");setTimeout((function(){canvas.width=e.videoWidth,console.log(e.videoWidth,"宽度信息"),canvas.height=e.videoHeight,canvas.getContext("2d").drawImage(e,0,0,canvas.width,canvas.height);var t=canvas,o=canvas.toDataURL("image/jpeg");console.log(t,"图片路径"),e.imgSrc=o,document.getElementById("imgsrc").setAttribute("src",o);for(var n=o.split(","),l=n[0].match(/:(.*?);/)[1],d=atob(n[1]),c=d.length,r=new Uint8Array(1);c--;)r[1]=d.charCodeAt(c);var h=new Blob([r],{type:l});console.log(h,"base64转blob结果"),h.lastModifiedDate=new Date,h.name="视频首帧",e.fileInfo=h,console.log(h,"文件信息")}),2e3)}}},l=(o(683),o(15)),component=Object(l.a)(n,(function(){var e=this,t=e._self._c;return t("div",[t("Contents",[e._v("\n        通过缓存视频截取视频第一帧作为封面等\n    ")]),e._v(" "),t("input",{staticClass:"uploadVideo_input",attrs:{type:"file",id:"input"},on:{change:e.chooseVideoInput}}),e._v(" "),t("video",{attrs:{id:"video",controls:"",width:"700",height:"300",src:e.videoPath,alt:""}}),e._v(" "),t("img",{staticClass:"img-style",attrs:{id:"imgsrc",src:e.imgSrc,alt:""}})],1)}),[],!1,null,"1745b87e",null);t.default=component.exports}}]);