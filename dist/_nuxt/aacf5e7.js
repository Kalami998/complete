(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{505:function(n,e,t){"use strict";var r=t(6),o=t(94).findIndex,d=t(150),l="findIndex",c=!0;l in[]&&Array(1)[l]((function(){c=!1})),r({target:"Array",proto:!0,forced:c},{findIndex:function(n){return o(this,n,arguments.length>1?arguments[1]:void 0)}}),d(l)},529:function(n,e,t){var content=t(597);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[n.i,content,""]]),content.locals&&(n.exports=content.locals);(0,t(31).default)("70c659cb",content,!0,{sourceMap:!1})},596:function(n,e,t){"use strict";t(529)},597:function(n,e,t){var r=t(30),o=t(51),d=t(60),l=r((function(i){return i[1]})),c=o(d);l.push([n.i,'.none-style{display:none}.hide-element{border:0;height:0;margin:0;overflow:hidden;padding:0;width:0}@font-face{font-family:"AlibabaPuHuiTiH";font-style:normal;font-weight:400;src:url('+c+")}.moving-area{border:1px dashed #b1aeae;border-radius:6px;margin:10px;padding:10px;position:relative}.moving-area-item{background:#fff;border:1px solid #b1aeae;border-radius:6px;cursor:move;height:32px;line-height:32px;margin:10px;text-align:center;transition:all .2s linear;width:100px}.moving-area-trans{position:relative}.moving .choose-style{background:#4090f7;color:#fff}",""]),l.locals={},n.exports=l},794:function(n,e,t){"use strict";t.r(e);t(23),t(36),t(43),t(75),t(76),t(19),t(41);var r=t(160),o=t(24);t(115),t(505),t(299),t(62);function d(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}var l={components:{Colors:t(220).a},head:function(){return{title:"移动元素"}},data:function(){return{dataList:[{name:"testA",id:1,choose:!1},{name:"testB",id:2,choose:!1},{name:"testC",id:3,choose:!1},{name:"testD",id:4,choose:!1},{name:"testE",id:5,choose:!1},{name:"testF",id:6,choose:!1}],dragElement:null,handleList:[{name:"A",id:1,choose:!1},{name:"B",id:2,choose:!1},{name:"C",id:3,choose:!1},{name:"D",id:4,choose:!1},{name:"E",id:5,choose:!1},{name:"F",id:6,choose:!1}],handleDrag:null,transList:[{name:"transA",id:1,choose:!1,index:0,trans:0},{name:"transB",id:2,choose:!1,index:1,trans:0},{name:"transC",id:3,choose:!1,index:2,trans:0},{name:"transD",id:4,choose:!1,index:3,trans:0},{name:"transE",id:5,choose:!1,index:4,trans:0},{name:"transF",id:6,choose:!1,index:5,trans:0}],transElement:null}},mounted:function(){},beforeDestroy:function(){},methods:{dragStart:function(n,e,t){t.dataTransfer.setData("text/plain",n.name),console.log("移动项目索引值是".concat(e,",内容是%o"),n)},dragOver:function(n,e,t){t.preventDefault();var r=t.target;r.nodeName;this.dragElement=n,console.log("移入",r.id)},dragLeave:function(n){n.preventDefault();n.target.nodeName},dragEnd:function(n,e,t){t.preventDefault()},handleDrop:function(n){n.preventDefault();var e,t=document.getElementById(n.target.id),r=document.getElementById(n.dataTransfer.getData("text/plain"));e=r.innerHTML,console.log(e,"temp"),r.innerHTML=t.innerHTML,t.innerHTML=e},handleStart:function(n,e,t){this.handleDrag=function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?d(Object(t),!0).forEach((function(e){Object(o.a)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}({},n)},handleEnter:function(n,e,t){var o=this;t.preventDefault(),t.dataTransfer.effectAllowed="move";var d=this.handleList,l=d.findIndex((function(n){return n.id==o.handleDrag.id})),c=e;d.splice.apply(d,[c,0].concat(Object(r.a)(d.splice(l,1)))),this.handleList=d},handleOver:function(n,e,t){t.preventDefault(),t.dataTransfer.dropEffect="move"},handleEnd:function(n,e,t){this.handleDrag=null},transStart:function(n,e,t){t.dataTransfer.setData("text/plain",n.name),this.transElement=n},transOver:function(n,e,t){t.preventDefault();t.target.nodeName},transEnter:function(n,e,t){if(this.transElement.id!==n.id){var r=JSON.parse(JSON.stringify(this.transElement.index));this.transElement.index>n.index?(console.log("移入比自己大的"),this.transElement.trans+=-42,n.trans+=42):(console.log("移入比自己小的"),this.transElement.trans+=42,n.trans+=-42),this.transElement.index=n.index,n.index=r}},transLeave:function(n){n.preventDefault();n.target.nodeName},transEnd:function(n,e,t){t.preventDefault()}}},c=l,f=(t(596),t(15)),component=Object(f.a)(c,(function(){var n=this,e=n._self._c;return e("div",{staticClass:"moving"},[e("Contents",[n._v("\n        通过拖拽 "),e("Colors",[n._v("drag")]),n._v(" 事件 实现元素间位置交换。 "),e("br"),n._v("\n        1. 给可拖动元素都添加 "),e("Colors",[n._v("draggable")]),n._v(" 属性并设置为true。\n        "),e("br"),n._v("2. 通过"),e("Colors",[n._v("dragstart")]),n._v("事件得到拖动元素信息。"),e("br"),n._v("\n        3.使用"),e("Colors",[n._v("dragover")]),n._v("拖动移入事件获取等待交换的元素内容。"),e("br"),n._v("\n        4.drop停止时事件交换起始拖动元素与等待交换元素的节点内容，完成交换。"),e("br"),n._v("\n        5.dragLeave是边界,超出即停止 6.实现排序交换可以通过"),e("Colors",[n._v("drop")]),n._v("\n        方法实现一步到位， 或者\n        "),e("Colors",[n._v("dragenter")]),n._v(",实现边拖动边更换顺序，增添一些动效\n    ")],1),n._v(" "),e("div",{staticClass:"moving-area"},[e("div",[n._v("\n            1. 通过 drop 方法实现一步到位，\n        ")]),n._v(" "),e("div",{on:{dragleave:n.dragLeave}},n._l(n.dataList,(function(t,r){return e("div",{key:r,staticClass:"moving-area-item",class:{"choose-style":t.choose},attrs:{id:t.name,draggable:"true"},on:{dragstart:function(e){return n.dragStart(t,r,e)},dragover:function(e){return n.dragOver(t,r,e)},dragend:function(e){return n.dragEnd(t,r,e)},drop:n.handleDrop}},[n._v("\n                "+n._s(t.name)+"\n            ")])})),0),n._v(" "),e("div",[n._v("\n            2. 通过 dragenter 借助 transition-group 实现平滑过度\n            "),e("transition-group",{attrs:{tag:"div"}},n._l(n.handleList,(function(t,r){return e("div",{key:t.id,staticClass:"moving-area-item",attrs:{id:t.name,draggable:"true"},on:{dragstart:function(e){return n.handleStart(t,r,e)},dragover:function(e){return n.handleOver(t,r,e)},dragenter:function(e){return n.handleEnter(t,r,e)},dragend:function(e){return n.handleEnd(t,r,e)}}},[n._v("\n                    "+n._s(t.name)+"\n                ")])})),0)],1),n._v(" "),e("div",[n._v("\n            3. 通过 dragenter 手写 transform 实现平滑过度\n            "),e("div",{on:{dragleave:n.transLeave}},n._l(n.transList,(function(t,r){return e("div",{key:t.id,staticClass:"moving-area-item moving-area-trans",style:{transform:"translateY("+t.trans+"px)",zIndex:t.id+1},attrs:{id:t.name,draggable:"true"},on:{dragstart:function(e){return n.transStart(t,r,e)},dragover:function(e){return n.transOver(t,r,e)},dragenter:function(e){return n.transEnter(t,r,e)}}},[n._v("\n                    "+n._s(t.name)+" "+n._s(t.id)+" "+n._s(t.index)+"\n                ")])})),0)])])],1)}),[],!1,null,null,null);e.default=component.exports}}]);